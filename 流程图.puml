@startuml
'https://plantuml.com/activity-diagram-beta

start
label entry
:sigReg 注册信号处理函数;
:runner 管理并执行入口函数;
split
    :UserInterface 用户界面初始化;
split again
    :DeviceData 数据处理类初始化;
split end
if (DeviceData.readFile) then (true)
    :DeviceData.readData 读取数据;
    else (false)
endif
:UserInterface.picker 显示界面;

repeat
switch (用户输入)
case (1)
    :UserInterface.add 功能选项-添加;
    :DeviceData.add 添加数据;
case (2)
    :UserInterface.delete 功能选项-删除;
    :UserInterface.verify 验证用户身份;
    :DeviceData.delete 删除数据;
case (3)
    :UserInterface.getOneDevice 功能选项-获取单个设备信息;
    :DeviceData.getOneDevice 获取单个设备信息;
case (4)
    :UserInterface.getAllDevice 功能选项-获取所有设备信息;
    :DeviceData.getAllDevice 获取所有设备信息;
case (5)
    :UserInterface.searchDevice 功能选项-搜索;
    :DeviceData.searchDevice 搜索设备信息;
case (6)
    :UserInterface.filterExpDevice 功能选项-筛选EOL设备;
    :DeviceData.filterExpDevice 筛选EOL设备;
case (7)
    :UserInterface.updateDevice 功能选项-修改设备信息;
    :DeviceData.updateDevice 修改设备信息;
case (8)
    :UserInterface.filterExpDevice 功能选项-排序;
    :DeviceData.filterExpDevice 对保存的设备进行重新排序;
endswitch
repeat while (用户输入不为9)
:DeviceData.writeFile 保存数据;
stop

@enduml
